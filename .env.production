# ============ ARF EDITION & LICENSING ============
# ARF Edition: "oss" for Open Source, "enterprise" for Commercial
ARF_EDITION=enterprise
# Enterprise License Key (only required for ARF_EDITION=enterprise)
ARF_LICENSE_KEY=ARF-ENT-YOUR-ENTERPRISE-LICENSE-KEY-HERE
# ARF OSS Version (must match installed version for Enterprise)
ARF_OSS_VERSION=3.3.6

# ============ ENTERPRISE EXECUTION AUTHORITY ============
# Mechanical Enforcement Settings (Enterprise only)
ENABLE_MECHANICAL_ENFORCEMENT=true
DEFAULT_EXECUTION_MODE=approval  # advisory, approval, autonomous, novel_execution
ENABLE_EXECUTION_GATES=true
REQUIRE_HUMAN_APPROVAL_FOR_HIGH_RISK=true
MAX_RISK_TOLERANCE=0.3  # 0.0 to 1.0
MIN_CONFIDENCE_THRESHOLD=0.8  # 0.0 to 1.0

# ============ ENTERPRISE AUDIT & COMPLIANCE ============
ENABLE_AUDIT_TRAIL=true
AUDIT_DB_PATH=/var/arf/audit_trail.db
AUDIT_RETENTION_DAYS=365
ENABLE_COMPLIANCE_REPORTS=true
COMPLIANCE_STANDARDS=SOC2,GDPR  # comma-separated

# ============ ENTERPRISE CONFIDENCE & RISK ============
ENABLE_DETERMINISTIC_CONFIDENCE=true
CONFIDENCE_VERSION=2.0.0
ENABLE_RISK_ASSESSMENT=true
RISK_ASSESSMENT_MODEL=enterprise
ENABLE_ROLLBACK_CHECKS=true
ROLLBACK_CONTROLLER_ENABLED=true

# ============ ENTERPRISE LEARNING & ADAPTATION ============
ENABLE_LEARNING_ENGINE=true
LEARNING_RETENTION_DAYS=90
ENABLE_AUTONOMOUS_ADAPTATION=false  # Requires Enterprise+ license
ENABLE_NOVEL_EXECUTION_PROTOCOLS=false  # Requires Platform license

# ============ APPLICATION SETTINGS ============
ENVIRONMENT=production
APP_NAME=arf-api
APP_VERSION=1.4.0
API_PREFIX=/api/v1
HOST=0.0.0.0
PORT=8000
DEBUG=false
LOG_LEVEL=INFO
APP_SECURE_COOKIES=true
APP_TRUSTED_HOSTS=["yourdomain.com", "app.yourdomain.com"]
APP_USE_HTTPS=true
APP_USE_CORS=true

# ============ DATABASE CONFIGURATION ============
# PostgreSQL
DATABASE_URL=postgresql://username:password@host:port/database
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=arf_production
POSTGRES_USER=arf_user
POSTGRES_PASSWORD=changeme_secure_password
POSTGRES_SSL_MODE=require
POSTGRES_POOL_SIZE=20
POSTGRES_MAX_OVERFLOW=40
POSTGRES_POOL_TIMEOUT=30
POSTGRES_POOL_RECYCLE=3600

# Redis
REDIS_URL=redis://redis:6379/0
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=changeme_redis_password
REDIS_SSL=true
REDIS_MAX_CONNECTIONS=1000
REDIS_SOCKET_TIMEOUT=10
REDIS_SOCKET_CONNECT_TIMEOUT=5

# Neo4j
NEO4J_URL=bolt://neo4j:7687
NEO4J_HOST=neo4j
NEO4J_PORT=7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=changeme_neo4j_password
NEO4J_ENCRYPTED=true
NEO4J_TRUST_STRATEGY=TRUST_ALL_CERTIFICATES
NEO4J_MAX_CONNECTION_LIFETIME=3600
NEO4J_MAX_CONNECTION_POOL_SIZE=50

# ============ AUTHENTICATION & SECURITY ============
JWT_SECRET_KEY=changeme_very_strong_jwt_secret_key_minimum_32_characters_here
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
API_KEY_HEADER_NAME=X-API-Key
ENABLE_API_KEYS=true
CORS_ORIGINS=["https://yourdomain.com", "https://app.yourdomain.com"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS", "PATCH"]
CORS_ALLOW_HEADERS=["*"]
CORS_EXPOSE_HEADERS=["X-Total-Count", "X-Page", "X-Per-Page"]

# Password Policy
MIN_PASSWORD_LENGTH=12
REQUIRE_UPPERCASE=true
REQUIRE_LOWERCASE=true
REQUIRE_DIGITS=true
REQUIRE_SPECIAL_CHARS=true
PASSWORD_HISTORY_SIZE=5
ACCOUNT_LOCKOUT_ATTEMPTS=5
ACCOUNT_LOCKOUT_MINUTES=30
SESSION_TIMEOUT_MINUTES=120

# ============ MONITORING & OBSERVABILITY ============
PROMETHEUS_METRICS_ENABLED=true
HEALTH_CHECK_ENABLED=true
ENABLE_STRUCTURED_LOGGING=true
LOG_CORRELATION_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_PATH=/health
READINESS_PATH=/ready
LIVENESS_PATH=/live
LOG_FORMAT=json
LOG_LEVEL_FILE=DEBUG
LOG_LEVEL_CONSOLE=INFO

# ============ WEBHOOK & INTEGRATIONS ============
WEBHOOK_MAX_RETRIES=3
WEBHOOK_RETRY_DELAY=5
WEBHOOK_TIMEOUT=10
WEBHOOK_SIGNATURE_SECRET=changeme_webhook_secret
ENABLE_SLACK_INTEGRATION=true
ENABLE_TEAMS_INTEGRATION=false
ENABLE_EMAIL_INTEGRATION=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_USE_TLS=true
SMTP_TIMEOUT=10

# ============ RATE LIMITING ============
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60
RATE_LIMIT_STORAGE=redis
RATE_LIMIT_STRATEGY=fixed-window
RATE_LIMIT_BYPASS_KEY=changeme_bypass_key

# ============ SECURITY HEADERS ============
ENABLE_SECURITY_HEADERS=true
ENABLE_CSP=true
ENABLE_HSTS=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true
CSP_DIRECTIVES="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:;"
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
X_XSS_PROTECTION=1; mode=block
REFERRER_POLICY=strict-origin-when-cross-origin
PERMISSIONS_POLICY="camera=(), microphone=(), geolocation=()"

# ============ FILE UPLOADS ============
MAX_UPLOAD_SIZE=10485760  # 10MB
ALLOWED_UPLOAD_TYPES=["image/jpeg", "image/png", "image/gif", "application/pdf", "text/plain"]
UPLOAD_DIR=/var/uploads
ENABLE_FILE_VALIDATION=true

# ============ CACHE CONFIGURATION ============
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=300
CACHE_BACKEND=redis
CACHE_KEY_PREFIX=arf_cache_
LICENSE_CACHE_TTL=300  # License validation cache TTL

# ============ PERFORMANCE TUNING ============
WORKER_COUNT=4
MAX_REQUEST_SIZE=16777216  # 16MB
KEEP_ALIVE_TIMEOUT=5
GRACEFUL_SHUTDOWN_TIMEOUT=30
REQUEST_TIMEOUT=30
RESPONSE_TIMEOUT=30
COMPRESSION_ENABLED=true
COMPRESSION_MIN_SIZE=1024
COMPRESSION_LEVEL=6

# ============ FEATURE FLAGS ============
FEATURE_API_KEYS=true
FEATURE_USER_REGISTRATION=true
FEATURE_EMAIL_VERIFICATION=false
FEATURE_MFA=false
FEATURE_AUDIT_LOGGING=true
FEATURE_METRICS_EXPORT=true
FEATURE_BACKUP_API=true

# ============ ENTERPRISE FEATURE FLAGS ============
FEATURE_MECHANICAL_ENFORCEMENT=true
FEATURE_EXECUTION_GATES=true
FEATURE_CONFIDENCE_SCORING=true
FEATURE_RISK_ASSESSMENT=true
FEATURE_ROLLBACK_CONTROLLER=true
FEATURE_NOVEL_EXECUTION=false
FEATURE_AUTONOMOUS_ADAPTATION=false
FEATURE_COMPLIANCE_REPORTING=true

# ============ LICENSE ENFORCEMENT ============
REQUIRE_LICENSE_VALIDATION=true
LICENSE_VALIDATION_MODE=online  # online, offline, hybrid
LICENSE_SERVER_URL=https://license.arf.dev/validate
LICENSE_OFFLINE_CACHE_HOURS=24
ENFORCE_TIER_LIMITS=true
BLOCK_OSS_EXECUTION=true

# ============ EXECUTION MODE MAPPINGS ============
# Role to Execution Mode mapping
EXECUTION_MODE_VIEWER=advisory
EXECUTION_MODE_OPERATOR=approval
EXECUTION_MODE_ADMIN=autonomous
EXECUTION_MODE_SUPER_ADMIN=novel_execution

# License Tier to Execution Mode mapping
EXECUTION_MODE_OSS=advisory
EXECUTION_MODE_STARTER=approval
EXECUTION_MODE_PROFESSIONAL=autonomous
EXECUTION_MODE_ENTERPRISE=autonomous
EXECUTION_MODE_PLATFORM=novel_execution
EXECUTION_MODE_TRIAL=autonomous

# ============ MCP CONFIGURATION ============
MCP_SERVER_ENABLED=true
MCP_SERVER_PORT=8001
MCP_DEFAULT_MODE=advisory
MCP_ALLOWED_MODES=advisory,approval,autonomous
MCP_REQUIRE_LICENSE_FOR_AUTONOMOUS=true
